<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="style.css">
    <title>MixiePixie</title>
</head>

<body>
    <header class="header-section">
        <div class="logo">
            <a href="index.html"><img src="images/logo.jpg" alt="MixiePixie Logo"></a>
            <a href="index.html" class="nav-link">MixiePixie</a>
        </div>

        <div class="pages">
            <div class="item">
                <a href="index.html" class="nav-link">
                    <i class='bx bx-home-circle'></i>
                    <span>Home</span>
                </a>
            </div>
            <div class="item">
                <a href="mixer.html" class="nav-link">
                    <i class='bx bx-fridge'></i>
                    <span>Mixer</span>
                </a>
            </div>
            <div class="item">
                <a href="drinks.html" class="nav-link">
                    <i class='bx bx-drink'></i>
                    <span>Drinks</span>
                </a>
            </div>
            <div class="item" id="account-dropdown">
                <a href="#" class="nav-link">
                    <i class='bx bx-user'></i>
                    <span>My account</span>
                    <span class="arrow">&#9662;</span>
                </a>
                <div class="dropdown-content">
                    <div class="dropdown-item">
                        <a href="login.html" class="nav-link">
                            <i class='bx bx-log-in'></i>
                            <span>Login</span>
                        </a>
                    </div>
                    <div class="dropdown-item">
                        <a href="saved.html" class="nav-link">
                            <i class='bx bx-book-heart'></i>
                            <span>Saved</span>
                        </a>
                    </div>
                    <div class="dropdown-item" id="active">
                        <a href="privacy.html" class="nav-link">
                            <i class='bx bx-cookie'></i>
                            <span>Privacy Policy</span>
                        </a>
                    </div>
                    <div class="dropdown-item">
                        <a href="#" id="logout-btn" class="nav-link">
                            <i class='bx bx-log-out'></i>
                            <span>Logout</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main>
        <div class="container-section">
            <h1>Terms of Service</h1>
            <p>Last edited: 22/2/24</p>
            <p>Greetings Users,</p>
            <p>These terms and conditions outline the rules and regulations for the use of our website. By using this
                website, you agree to comply with and be bound by the following terms and conditions of use.</p>

            <h2>Website Access</h2>
            <p>Description: This section outlines the terms related to accessing and using our website. By accessing our
                website, you agree to abide by these terms.</p>
            <p>By accessing and using this website (the "Site"), you accept and agree to be bound by the terms and
                provisions of these Terms of Service. If you do not agree to abide by the terms of this Agreement, you
                are not authorized to access or use the Site.</p>
            <p>Access to certain areas of this website may be restricted. MixiePixie reserves the right to restrict
                access to certain areas of this website, or at our discretion, this entire website. We may change or
                modify this policy without notice.</p>

            <h2>Limitation of Liability</h2>
            <p>Description: This section specifies the limitations of liability for any damages incurred while using our
                website. We are not liable for any direct, indirect, or consequential damages arising from your use of
                our website.</p>
            <p>In no event shall MixiePixie, nor any of its officers, directors, and employees, be liable to you for
                anything arising out of or in any way connected with your use of this Website, whether such liability is
                under contract, tort, or otherwise, and MixiePixie, including its officers, directors, and employees
                shall not be liable for any indirect, consequential, or special liability arising out of or in any way
                related to your use of this Website.</p>
            <p>MixiePixie does not warrant that the website is free of viruses or other harmful components.</p>

            <h1>Privacy Policy</h1>
            <p>Last edited: 22/2/24</p>
            <p>The following outlines MixiePixie's use of personal information from its users. We value the privacy of
                our users and will never share any of your personal information with anyone.</p>

            <h2>Cookies</h2>
            <p>Description: This section explains our use of cookies on the website. By using our website, you consent
                to the use of cookies in accordance with our privacy policy.</p>
            <p>We employ the use of cookies. By accessing MixiePixie, you agreed to use cookies in agreement with the
                MixiePixie's Privacy Policy.</p>
            <p>Most interactive websites use cookies to let us retrieve the userâ€™s details for each visit. Cookies are
                used by our website to enable the functionality of certain areas to make it easier for people visiting
                our website.</p>

            <h2>GDPR</h2>
            <p>Description: This section provides information about how we comply with the General Data Protection
                Regulation (GDPR). We are committed to protecting your personal data and ensuring compliance with GDPR
                regulations.</p>
            <p>MixiePixie is fully compliant with the General Data Protection Regulation (GDPR). For details regarding
                the collection, use, and protection of your personal information, please refer to our Privacy Policy.
            </p>
            <p>Your continued use of our website will be regarded as acceptance of our practices around privacy and
                personal information. If you have any questions about how we handle user data and personal information,
                feel free to contact us.</p>

        </div>
    </main>

    <div id="contactModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Contact Us</h2>
            <form id="contactForm">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>
                <label for="message">Message:</label>
                <textarea id="message" name="message" rows="4" required></textarea>
                <button type="submit" id="submitBtn">Submit</button>
            </form>
        </div>
    </div>


    <div id="confirmationModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Message Sent</h2>
            <p>Your message has been sent successfully!</p>
        </div>
    </div>

    <footer class="footer-section">
        <div class="footer-content">
            <div class="footer-links">
                <a href="privacy.html">Privacy Policy</a>
                <a href="#contactModal" class="nav-link">Contact Us</a>
            </div>
            <p>&copy; 2024 MixiePixie. All rights reserved.</p>
        </div>
    </footer>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.10.0/firebase-app.js";
        import { getDatabase, ref, set, get, remove, child } from "https://www.gstatic.com/firebasejs/10.10.0/firebase-database.js";
        import { getAuth, signInWithEmailAndPassword, setPersistence, browserSessionPersistence, signOut } from "https://www.gstatic.com/firebasejs/10.10.0/firebase-auth.js";

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCS3krvqV9N4HX2a5H7yq82RWW_tMilvS0",
            authDomain: "mixiepixie-eba76.firebaseapp.com",
            projectId: "mixiepixie-eba76",
            storageBucket: "mixiepixie-eba76.appspot.com",
            messagingSenderId: "860212929441",
            appId: "1:860212929441:web:69c799f4dac9d03f43a1e0",
            databaseURL: "https://mixiepixie-eba76-default-rtdb.europe-west1.firebasedatabase.app"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getDatabase();
        const auth = getAuth(app);
        const dbref = ref(db);

        document.addEventListener("DOMContentLoaded", function () {
            const logoutButton = document.getElementById('logout-btn');
            const loggedInUserDiv = document.getElementById('loggedInUser');

            // Events function to logout
            logoutButton.addEventListener('click', e => {
                e.preventDefault();
                auth.signOut().then(() => {
                    localStorage.removeItem("user");
                    alert("You have logged out");
                    window.location.href = "index.html";
                }).catch((error) => {
                    console.error("Error:", error);
                });
            });

            window.addEventListener('beforeunload', () => {
                localStorage.removeItem("user");
            });

        });


        document.addEventListener('DOMContentLoaded', function () {
            const submitBtn = document.getElementById('submitBtn');
            const contactModal = document.getElementById('contactModal');
            const confirmationModal = document.getElementById('confirmationModal');
            const closeModalButtons = document.querySelectorAll('.close');

            // Function to show modal
            function showModal(modal) {
                console.log('Showing modal:', modal.id);
                modal.style.display = 'block';
            }

            // Function to hide modal
            function hideModal(modal) {
                console.log('Hiding modal:', modal.id);
                modal.style.display = 'none';
            }

            // Event listener for submit button
            submitBtn.addEventListener('click', function (event) {
                event.preventDefault(); // Prevent form submission

                // Validate form inputs
                var email = getInputVal('email');
                var message = getInputVal('message');
                console.log(message);

                if (email.trim() !== '' && message.trim() !== '') {
                    // Form inputs are valid, show confirmation modal
                    hideModal(contactModal);
                    showModal(confirmationModal);
                    saveMessage(email, message);
                } else {
                    // Form inputs are not valid, alert user
                    alert('Please fill out all required fields.');
                }
            });

            function getInputVal(id) {
                return document.getElementById(id).value;
            }

            function saveMessage(email, message) {
                const newMessageRef = ref(db, 'messages/' + new Date().getTime());
                set(newMessageRef, {
                    email: email,
                    message: message
                });
            }
            // Event listeners for close buttons
            closeModalButtons.forEach(function (button) {
                button.addEventListener('click', function () {
                    console.log('Close button clicked');
                    hideModal(confirmationModal);
                    hideModal(contactModal);
                });
            });

            // Event listener to close modal when clicking outside the modal
            window.addEventListener('click', function (event) {
                if (event.target === contactModal || event.target === confirmationModal) {
                    console.log('Clicked outside modal');
                    hideModal(event.target);
                }
            });

            // Find the "Contact Us" link
            const contactLink = document.querySelector('a[href="#contactModal"]');

            // Add a click event listener to the link
            contactLink.addEventListener('click', function (event) {
                event.preventDefault(); // Prevent default anchor behavior
                showModal(contactModal); // Show the contact modal when the link is clicked
            });
        });


    </script>
    <script src="script.js"></script>
</body>

</html>